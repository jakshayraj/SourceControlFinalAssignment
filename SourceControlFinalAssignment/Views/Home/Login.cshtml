@model SourceControlFinalAssignment.Models.LoginViewModel

@{
    ViewBag.Title = "Login";
}
@{
    Layout = null;
}



<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>@ViewBag.Title - My ASP.NET Application</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">

    <script src="@Url.Content("~/Scripts/jquery-3.5.1.min.js")" type="text/javascript"></script>
    <script src="@Url.Content("~/Scripts/jquery.validate.unobtrusive.min.js")" type="text/javascript"></script>
    <script src="@Url.Content("~/Scripts/jquery.validate.min.js")" type="text/javascript"></script>
    <script>
        function ValidateUser() {
            event = event || window.event || event.srcElement;
            var return_val = true;
            if ($('#Password').val().trim() == '') {
                $('#Password').next('span').show();
                return_val = false;
            } else {
                $('#Password').next('span').hide();
                if (PasswordStrengthCheck($('#Password').val().trim()) == false) {
                    return_val = false;
                }
            }
        }
        function PasswordStrengthCheck(password) {
            var return_val = true;
            if (password != '') {
                if (password.length < 8) {
                    $('#Password').next('span').text('Be at least 8 characters').show();
                    $('#Password').focus();
                    return_val = false;
                } else if (!password.match(/[A-z]/)) {
                    $('#Password').next('span').text('At least one letter').show();
                    $('#Password').focus();
                    return_val = false;
                } else if (!password.match(/[A-Z]/)) {
                    $('#Password').next('span').text('At least one uppercase alphabet').show();
                    $('#Password').focus();
                    return_val = false;
                } else if (!password.match(/[a-z]/)) {
                    $('#Password').next('span').text('At least one lowercase alphabet').show();
                    $('#Password').focus();
                    return_val = false;
                } else if (!password.match(/\d/)) {
                    $('#Password').next('span').text('At least one number').show();
                    $('#Password').focus();
                    return_val = false;
                } else if (!password.match(/[ !#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]/)) {
                    $('#Password').next('span').text('At least one special character').show();
                    $('#Password').focus();
                    return_val = false;
                } else {
                    $('#Password').next('span').text('').hide();
                }
            } else {
                $('#Password').next('span').text('Please enter Password').show();
                return_val = false;
            }
            return return_val;
        };
    </script>



</head>
<body style="background-color:darkcyan">
    <div class="row">
        <div class="col-sm-9 col-md-7 col-lg-5 mx-auto my-4">
            <div class="card my-5 shadow" style="border-radius:25px;">
                <div class="card-body p-5">
                    <section id="loginForm">
                        @using (Html.BeginForm("Login", "Home", new { ReturnUrl = ViewBag.ReturnUrl }, FormMethod.Post, new { @class = "form-horizontal", role = "form" , id="login", onsubmit = "ValidateUser();" }))
                        {
                            HtmlHelper.UnobtrusiveJavaScriptEnabled = false;
                            @Html.AntiForgeryToken()
                            <h4 class="card-title text-center">SIGN IN</h4>
                            <hr class="my-4 mx-5" />
                            @Html.ValidationSummary(true, "", new { @class = "text-danger" })
                            <div class="form-group mt-5">
                                <label class="control-label">Email id</label>
                                @Html.TextBoxFor(m => m.EmailId, new { @class = "form-control" })
                                @Html.ValidationMessageFor(m => m.EmailId, "", new { @class = "text-danger" })
                            </div>
                            <div class="form-group mt-4">
                                <label class="control-label">Password</label>
                                @Html.PasswordFor(m => m.Password, new { @class = "form-control" })
                                @Html.ValidationMessageFor(m => m.Password, "", new { @class = "text-danger" })
                            </div>

                            <div class="form-group text-center mt-5">
                                <input type="submit" value="Log in" class="btn text-white btn-block" style="background: #007bff;background: linear-gradient(to right, #0062E6, #33AEFF); border-radius: 25px;" />
                            </div>

                        }
                    </section>
                </div>
            </div>
        </div>
    </div>
</body>
</html>

@section Scripts {
    @Scripts.Render("~/bundles/jqueryval")
}

